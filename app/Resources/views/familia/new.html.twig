{% extends 'base.html.twig' %}
{% block menua %}
    {{ parent() }}
    <nav class="navbar navbar-default navbar-lower" data-spy="affix" data-offset-top="5">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand">{{ 'messages.familiak'|trans }}</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse navbar-right">
                <ul class="nav navbar-nav">
                    <li><a href="#" onclick="document.forms['{{ form.vars.name }}'].submit()" class="fa fa-floppy-o"> {{ 'messages.gorde'|trans }}</a></li>
                    <li><a href="{{ path('familia_index') }}" class="fa fa-undo"> {{ 'messages.utzi'|trans }}</a></li>
                </ul>
            </div>
        </div>
    </nav>
{% endblock %}
{% block body %}
    {{ form_start(form) }}
    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <b>{{ 'messages.familia'|trans }} ({{ 'messages.eu'|trans }})</b>
                {#{{ form_label(form.familiaeu, 'Familia (eu): ', { 'label_attr': {'class': 'control-label'} }) }}#}
                {{ form_errors(form.familiaeu) }}
                {{ form_widget(form.familiaeu, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <b>{{ 'messages.familia'|trans }} ({{ 'messages.es'|trans }})</b>
                {#{{ form_label(form.familiaes, 'Familia (es): ', { 'label_attr': {'class': 'control-label'} }) }}#}
                {{ form_errors(form.familiaes) }}
                {{ form_widget(form.familiaes, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <div class="form-group">
                <b>{{ 'messages.deskribapena'|trans }} ({{ 'messages.eu'|trans }})</b>
                {#{{ form_label(form.deskribapenaeu, 'Deskribapena (eu): ', { 'label_attr': {'class': 'control-label'} }) }}#}
                {{ form_errors(form.deskribapenaeu) }}
                {{ form_widget(form.deskribapenaeu, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <b>{{ 'messages.deskribapena'|trans }} ({{ 'messages.es'|trans }})</b>
                {#{{ form_label(form.deskribapenaes, 'Deskribapena (es): ', { 'label_attr': {'class': 'control-label'} }) }}#}
                {{ form_errors(form.deskribapenaes) }}
                {{ form_widget(form.deskribapenaes, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            {{ form_label(form.parent, 'Familia Gurasoa: ', { 'label_attr': {'class': 'control-label'} }) }}
            {{ form_errors(form.parent) }}
            {{ form_widget(form.parent, {'attr': {'class': 'form-control'}}) }}
        </div>
        <div class="col-sm-6">
            {{ form_label(form.ordena, 'Ordena: ', { 'label_attr': {'class': 'control-label'} }) }}
            {{ form_errors(form.ordena) }}
            {{ form_widget(form.ordena, {'attr': {'class': 'form-control'}}) }}
        </div>
    </div>

    {% if is_granted('ROLE_SUPER_ADMIN') %}
    <div class="row">
    {% else %}
    <div class="row hidden">
        {% endif %}
        <div class="col-sm-6">
            <div class="form-group">
                <b>{{ 'messages.udala'|trans }}</b>
                {#{{ form_label(form.udala, 'Udala: ', { 'label_attr': {'class': 'control-label'} }) }}#}
                {{ form_errors(form.udala) }}
                {{ form_widget(form.udala, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>
    </div>

    {{ form_end(form) }}
{% endblock %}

        {% block javascripts %}
    {{ parent() }}

    <script type="text/javascript">
        $(function () {

            var customSorter = function(data) {

                return data.sort(function(a,b){
                    a = a.text.toLowerCase();
                    b = b.text.toLowerCase();
                    if(a > b) {
                        return 1;
                    } else if (a < b) {
                        return -1;
                    }
                    return 0;
                });

            };

            $('#familia_parent').select2({
                theme: 'bootstrap',
                tags: true,
                sorter: customSorter
            });
        });
    </script>

{% endblock %}